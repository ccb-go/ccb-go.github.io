import{G as M,A as p,I as S,D as t,L as g,M as o,P as b,F as D,v as F,w as T,E as v,C as Q,R as z,S as B,Q as I,_ as J,T as R,a as U,U as V,o as H,x as W,V as Y,W as K,B as $,X as w,Y as C,Z as k,$ as X,J as L,K as q,H as i,a0 as G,N as Z,O as j}from"./index.088d8b1c.js";const ee=t("img",{class:"print-hide",style:{width:"10px"},src:"/img/repeticao.png",alt:"Item se repete"},null,-1),te=["innerHTML"],ae=M({__name:"ListaTRComponent",props:{event:{}},setup(m){const e=m.event;function _(a){return a&&["Dom","Seg","Ter","Qua","Qui","Sex","S\xE1b"][a.getDay()]||""}function l(a){return a?String(a.getDate()||"").padStart(2,"0"):""}function f(a){return a?String(a.getMonth()+1||"").padStart(2,"0"):""}function h(a){if(!a)return"";const y=String(a.getHours()||"").padStart(2,"0"),E=String(a.getMinutes()||"").padStart(2,"0");return`${y}:${E}`}function c(a){try{return!!(a!=null&&a.getHours())}catch{}}return(a,y)=>(p(),S("tr",null,[t("td",{style:b(c(o(e).date)?"":"display: none;")},[t("b",null,g(l(o(e).date))+"/"+g(f(o(e).date)),1)],4),t("td",{style:b(c(o(e).date)?"":"display: none;")},g(_(o(e).date)),5),t("td",{style:b(o(e).date&&o(e).date.getHours()>5?"":"display: none;")},g(h(o(e).date)),5),t("td",null,[D(g(o(e).locale)+" ",1),ee]),t("td",{style:b(o(e).desc?"":"display: none;"),innerHTML:o(e).desc.replace(/(;\n|\n)/gi,"</br>")},null,12,te)]))}});const ne={class:"calendar"},se=M({__name:"IconCalendarComponent",props:{search:{},events:{}},emits:["update"],setup(m,{emit:x}){const e=m,_=x,l=F({range:"",events:[],locale:{days:"Domingo_Segunda_Ter\xE7a_Quarta_Quinta_Sexta_S\xE1bado".split("_"),daysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xE1b".split("_"),months:"Janeiro_Fevereiro_Mar\xE7o_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),firstDayOfWeek:0,format24h:!0,pluralDay:"dias"}});f(),T(()=>e.events,f);function f(){l.events=[...new Set(e.events.map(h=>{var c;return((c=h.date)==null?void 0:c.toISOString().split("T")[0].replace(/-/g,"/"))||""}).filter(h=>h))]}return T(()=>l.range,()=>{l.range?_("update",`${e.search.replace(/\d+\/\d+\/\d+/gi,"").trim()} ${l.range}`):_("update",e.search.replace(/\d+\/\d+\/\d+/gi,"").trim())}),(h,c)=>(p(),S("div",ne,[v(I,{icon:"event",round:"",color:"primary"},{default:Q(()=>[v(z,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:Q(()=>[v(B,{modelValue:l.range,"onUpdate:modelValue":c[0]||(c[0]=a=>l.range=a),minimal:"",mask:"DD/MM/YYYY",events:l.events,locale:l.locale},null,8,["modelValue","events","locale"])]),_:1})]),_:1})]))}});const N=m=>(Z("data-v-011c7a86"),m=m(),j(),m),oe={class:"text-center"},re=N(()=>t("div",{class:"print-only"},"LISTA DE ATENDIMENTO E DIVERSOS",-1)),le={id:"lista"},ie={class:"print-hide menu flex space-between"},ce={class:"search"},ue=["summary"],de={colspan:"5"},pe={key:0,class:"print-hide"},_e={class:"print-only right"},me=["href"],he=N(()=>t("div",{class:"print-only"},[t("i",null,[D(" Ora\xE7\xE3o Santa Ceia "),t("br"),t("b",null,"P\xE3o:"),D(' "Senhor, aben\xE7oa este P\xE3o que vamos comer, que \xE9 a comunh\xE3o do Corpo de Cristo." '),t("br"),t("b",null,"C\xE1lice: "),D('"Senhor, aben\xE7oa o C\xE1lice que vamos beber, que \xE9 a comunh\xE3o do Sangue de Cristo." ')])],-1)),ge=M({__name:"ListasPage",setup(m){var y,E;const x=R(),e=F({search:((y=x.query.pesquisar)==null?void 0:y.toString())||"",locale:((E=x.params.local)==null?void 0:E.toString())||"",titles:{}}),_=U(()=>{let r=V.eventos.items;if(!e.search&&!e.locale)return[];const n=d=>d.trim().toUpperCase().normalize("NFD").replace(/\p{Diacritic}/gu,"");let s=n(e.search),u=n(e.locale);const A=new RegExp(`^${u}`);return/^(\*|\*\*|\/)/gi.test(e.search)&&(u="",s=s.replace(/^(\*|\/)/gi,"").trim()),u&&(r=r.filter(d=>n(d.list).includes(u)||A.test(n(d.locale)))),s&&(r=V.eventos.items.filter(d=>s.split(" ").every(O=>{var P;return n(`${(P=d.date)==null?void 0:P.toLocaleDateString()} ${d.title} ${d.list} ${d.locale} ${d.desc}`).includes(O)}))),r});l(),T(()=>e.search,l);function l(){e.titles=[...new Set(_.value.map(r=>r.title))]}function f(r){if(r.altKey&&r.key.toLowerCase()==="a")r.preventDefault(),r.stopPropagation(),i.createEvent();else if(r.altKey&&["/","*"].includes(r.key)){const n=document.querySelector('input[type="text"]');n&&n.focus()}}H(()=>{window.addEventListener("keydown",f)}),W(()=>{window.removeEventListener("keydown",f)});function h(){window.print()}function c(){const s=`https://api.whatsapp.com/send/?phone=5562984972385&text=${encodeURIComponent(`\u{1F4C4} Batismo, Santa Ceia, ...

\u{1F4CD} Local: 
\u{1F557} Data: 
\u{1F935} Atender\xE1: `)}&type=phone_number&app_absent=0`;window.location.href=s}async function a(){if(!i.loading){i.loading=!0;try{await G()}catch{console.log("Erro ao recarregar!")}console.log("Terminoou de recarregar..."),i.loading=!1}}return(r,n)=>(p(),S(L,null,[t("div",oe,[re,t("div",null,g(e.locale.replace(/-$/,"").trim()),1)]),t("div",le,[t("div",ie,[t("div",ce,[Y(t("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>e.search=s),placeholder:"Pesquisar...","x-webkit-speech":""},null,512),[[K,e.search]])]),o(i).shared?(p(),$(C,{key:0,name:"share",onClick:n[1]||(n[1]=w(s=>o(i).shared(),["prevent"]))})):k("",!0),o(i).shared?(p(),$(C,{key:1,name:"quiz",onClick:w(c,["prevent"])})):k("",!0),v(C,{name:"cached",onClick:w(a,["prevent"]),class:X({rotate:o(i).loading}),style:{transform:"scaleX(-1)"}},null,8,["class"]),v(C,{name:"print",onClick:n[2]||(n[2]=w(s=>h(),["prevent"]))}),v(I,{to:"/",dense:"",flat:"",icon:"close"})]),(p(!0),S(L,null,q(e.titles,s=>(p(),S("div",{key:s},[t("table",{summary:String(s)},[t("thead",null,[t("th",de,g(s),1)]),t("tbody",null,[(p(!0),S(L,null,q(_.value.filter(u=>u.title===s),u=>(p(),$(ae,{key:u.gid,event:u,onDblclick:A=>o(i).selected=u},null,8,["event","onDblclick"]))),128))])],8,ue)]))),128)),!_.value.length&&!e.search.startsWith("**")?(p(),S("div",pe,[v(I,{class:"q-mt-lg",onClick:n[3]||(n[3]=s=>e.search=`*${e.search}`),color:"blue",flat:"",label:"Lista completa..."})])):k("",!0),t("div",_e,[t("a",{style:{color:"black"},href:o(i).url},g(o(i).url),9,me)]),he]),v(se,{search:e.search,events:_.value,onUpdate:n[4]||(n[4]=s=>e.search=s)},null,8,["search","events"])],64))}});var fe=J(ge,[["__scopeId","data-v-011c7a86"]]);export{fe as default};
