import{r as p,f as ie,x as oe,c as o,a,F as P,j as G,h as _,A as m,g as b,t as r,b as u,e as q,B as c,o as s,n as H,C as le}from"./BbWWPUek.js";const re={class:"tabs-container print-hide"},ce={class:"tabs justify-end","aria-label":"Tabs",role:"tablist","aria-orientation":"horizontal"},de=["id","aria-selected","onClick"],ue={class:"tab-content"},ve={id:"tab-content-lista",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},pe={class:"text-center flex flex-col items-center mb-4"},_e={key:0},me={key:1},be={id:"tab-content-filters",role:"tabpanel",class:"transition-opacity duration-300 ease-in-out"},ye={id:"tab-content-print",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},fe={id:"tab-content-create",role:"tabpanel",class:"text-center flex flex-col items-center transition-opacity duration-300 ease-in-out"},he={key:0,class:"flex justify-center items-center h-32 text-center"},Ee={key:1,class:"text-center text-gray-500"},ke={key:2},xe={key:0,class:"print-only"},Te={__name:"edit",setup(Le){const v=p([]),n=p([]),h=p(!1),l=p("lista"),J=[{id:"tab-create",key:"create",label:"",icon:"la:plus"},{id:"tab-filters",key:"filters",label:"",icon:"la:filter"},{id:"tab-print",key:"print",label:"",icon:"la:print"},{id:"tab-lista",key:"lista",label:"Lista"}];function K(e){n.value=e}function Q(e){v.value=e}function W(){l.value="lista",setTimeout(()=>{window.print(),l.value="print"},500)}const y=ie(()=>v.value.reduce((e,{title:t,...d})=>((e[t]||(e[t]=[])).push(d),e),{})),E=e=>{var t;return(t=e==null?void 0:e.replace(/-$/,""))==null?void 0:t.trim()};function X(e){console.log("Novo item adicionado:",e),v.value.push(e)}function Y(e,t,d){console.log("Objeto alterado:",{item:e,field:t,newValue:d})}function Z(e){y.value[e]&&y.value[e].push({id:Date.now(),date:"",locale:"",desc:""})}return oe(()=>{h.value=!0}),(e,t)=>{var k,x,L,g,T,N,C,j,w,B,D,F,S,A,M,R,I,V,O,U,$,z;const d=c("ListaFilterBar"),ee=c("ListaCreateEvent"),te=c("ListaLoadingSpinner"),ae=c("ListaNoEventsMessage"),ne=c("ListaEventTableEdit"),se=c("ListaRegionalMessagem");return s(),o("div",null,[a("div",re,[a("nav",ce,[(s(),o(P,null,G(J,i=>a("button",{id:i.id,key:i.id,"aria-selected":l.value===i.key,role:"tab",type:"button",class:H(["tab",{active:l.value===i.key}]),onClick:f=>l.value=i.key},[i.icon?(s(),o("i",{key:0,class:H(`la ${i.icon}`)},null,2)):b("",!0),q(" "+r(i.label),1)],10,de)),64))])]),a("div",ue,[_(a("div",ve,[a("div",pe,[t[0]||(t[0]=a("div",null,"LISTA DE ATENDIMENTO E DIVERSOS",-1)),a("b",null,r(E((k=n.value)==null?void 0:k.list)),1),a("b",null,r(E((x=n.value)==null?void 0:x.locale)),1),(L=n.value)!=null&&L.date?(s(),o("p",_e," Data: "+r((j=(C=(N=(T=(g=n.value)==null?void 0:g.date)==null?void 0:T.split("T")[0])==null?void 0:N.split("-"))==null?void 0:C.reverse())==null?void 0:j.join("/")),1)):b("",!0),!n.value.date&&((w=n.value)!=null&&w.start||(B=n.value)!=null&&B.end)?(s(),o("p",me," Período: "+r((M=(A=(S=(F=(D=n.value)==null?void 0:D.start)==null?void 0:F.split("T")[0])==null?void 0:S.split("-"))==null?void 0:A.reverse())==null?void 0:M.join("/"))+" à "+r((U=(O=(V=(I=(R=n.value)==null?void 0:R.end)==null?void 0:I.split("T")[0])==null?void 0:V.split("-"))==null?void 0:O.reverse())==null?void 0:U.join("/")),1)):b("",!0)])],512),[[m,l.value==="lista"]]),_(a("div",be,[u(d,{"onUpdate:filters":K,"onUpdate:filteredEventos":Q})],512),[[m,l.value==="filters"]]),_(a("div",ye,[t[2]||(t[2]=a("p",{class:"mb-4"},"Ajustes de impressão:",-1)),a("button",{class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-center flex items-center",onClick:W},t[1]||(t[1]=[a("i",{class:"la la-print"},null,-1),q(" Imprimir ")]))],512),[[m,l.value==="print"]]),_(a("div",fe,[u(ee,{onUpdate:X})],512),[[m,l.value==="create"]])]),h.value?v.value.length===0?(s(),o("div",Ee,[u(ae)])):(s(),o("div",ke,[(s(!0),o(P,null,G(y.value,(i,f)=>(s(),le(ne,{key:f,title:f,items:i,onEditEvent:Y,onAddEmptyRow:Z},null,8,["title","items"]))),128)),(z=($=n.value)==null?void 0:$.list)!=null&&z.includes("REGIONAL")?(s(),o("div",xe,[u(se)])):b("",!0)])):(s(),o("div",he,[u(te)]))])}}};export{Te as default};
