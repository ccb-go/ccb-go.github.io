import{L}from"./CJkCATWL.js";import{_ as S,s as T,B as h,f as x,D as H,c as l,I as A,p as w,F as g,g as y,j as k,o as a,a as r,t as c,Q as B}from"./WFx7aDd1.js";import"./D9ulxedu.js";const b={key:0,class:"print-page"},I={class:"day-header"},M={class:"event-list"},N=["innerHTML"],$={__name:"proximos",setup(j){const{lista:u}=T(),v=h({}),_=x(()=>{const d=new Date,e=new Date;e.setDate(d.getDate()+7);const p=t=>String(t).padStart(2,"0"),m=t=>{const s=new Date,n=new Date;s.setHours(0,0,0,0),n.setDate(s.getDate()+1),n.setHours(0,0,0,0);const o=new Date(t);return o.setHours(0,0,0,0),o.getTime()===s.getTime()?"Hoje":o.getTime()===n.getTime()?"Amanhã":`${p(t.getDate())}/${p(t.getMonth()+1)}`},i={};return u.events.filter(t=>{if(!(t!=null&&t.onDate))return!1;const s=new Date(t.onDate);return s>=d&&s<=e}).filter(t=>!["AVISOS À IRMANDADE"].includes(t.title)).forEach(t=>{const s=new Date(t.onDate),n=m(s);i[n]||(i[n]=[]),i[n].push(t)}),Object.entries(i).map(([t,s])=>({day:t,items:s.sort((n,o)=>{const D=new Date(n.onDate),f=new Date(o.onDate);return D-f||(n.event||"").localeCompare(o.event||"")||(n.title||"").localeCompare(o.title||"")})})).sort((t,s)=>{var D,f;const n=new Date((D=t.items[0])==null?void 0:D.onDate),o=new Date((f=s.items[0])==null?void 0:f.onDate);return n-o})});return H(()=>u.events,()=>{for(const d of u.events||[]){const e=d.title||"Sem título";e in v||(v[e]=!0)}},{immediate:!0}),(d,e)=>{const p=L;return a(),l("div",null,[w(u).loading?(a(),A(p,{key:0})):(a(),l(g,{key:1},[_.value.length?(a(),l("div",b,[(a(!0),l(g,null,k(_.value,({day:m,items:i})=>(a(),l("div",{key:m,class:"day-section"},[r("h2",I,c(m)+" "+c(i[0].formatWeek),1),r("dl",M,[(a(!0),l(g,null,k(i,t=>(a(),l("div",{key:t.id,class:"event-entry"},[e[0]||(e[0]=r("dt",null,"Lista",-1)),r("dd",null,c(t.list),1),e[1]||(e[1]=r("dt",null,"Local",-1)),r("dd",null,c(t.locale),1),e[2]||(e[2]=r("dt",null,"Título",-1)),r("dd",null,c(t.title),1),e[3]||(e[3]=r("dt",null,"Detalhes",-1)),t.desc?(a(),l("dd",{key:0,innerHTML:`${t.formatTime} - ${w(B)(t.desc)}`},null,8,N)):y("",!0)]))),128))])]))),128))])):y("",!0)],64))])}}},F=S($,[["__scopeId","data-v-767f6366"]]);export{F as default};
