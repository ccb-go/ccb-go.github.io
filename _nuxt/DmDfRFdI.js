import{L}from"./XJc-JhWW.js";import{_ as S,s as T,A as h,f as x,D as A,c as l,C as H,p as w,F as g,z as y,j as k,o as a,a as r,t as c,P as b}from"./C8_MLYNb.js";const B={key:0,class:"print-page"},C={class:"day-header"},M={class:"event-list"},N=["innerHTML"],$={__name:"proximos",setup(j){const{lista:u}=T(),v=h({}),_=x(()=>{const d=new Date,t=new Date;t.setDate(d.getDate()+7);const p=e=>String(e).padStart(2,"0"),D=e=>{const s=new Date,n=new Date;s.setHours(0,0,0,0),n.setDate(s.getDate()+1),n.setHours(0,0,0,0);const o=new Date(e);return o.setHours(0,0,0,0),o.getTime()===s.getTime()?"Hoje":o.getTime()===n.getTime()?"Amanhã":`${p(e.getDate())}/${p(e.getMonth()+1)}`},i={};return u.events.filter(e=>{if(!(e!=null&&e.onDate))return!1;const s=new Date(e.onDate);return s>=d&&s<=t}).filter(e=>!["AVISOS À IRMANDADE"].includes(e.title)).forEach(e=>{const s=new Date(e.onDate),n=D(s);i[n]||(i[n]=[]),i[n].push(e)}),Object.entries(i).map(([e,s])=>({day:e,items:s.sort((n,o)=>{const m=new Date(n.onDate),f=new Date(o.onDate);return m-f||(n.event||"").localeCompare(o.event||"")||(n.title||"").localeCompare(o.title||"")})})).sort((e,s)=>{var m,f;const n=new Date((m=e.items[0])==null?void 0:m.onDate),o=new Date((f=s.items[0])==null?void 0:f.onDate);return n-o})});return A(()=>u.events,()=>{for(const d of u.events||[]){const t=d.title||"Sem título";t in v||(v[t]=!0)}},{immediate:!0}),(d,t)=>{const p=L;return a(),l("div",null,[w(u).loading?(a(),H(p,{key:0})):(a(),l(g,{key:1},[_.value.length?(a(),l("div",B,[(a(!0),l(g,null,k(_.value,({day:D,items:i})=>(a(),l("div",{key:D,class:"day-section"},[r("h2",C,c(D)+" "+c(i[0].formatWeek),1),r("dl",M,[(a(!0),l(g,null,k(i,e=>(a(),l("div",{key:e.id,class:"event-entry"},[t[0]||(t[0]=r("dt",null,"Lista",-1)),r("dd",null,c(e.list),1),t[1]||(t[1]=r("dt",null,"Local",-1)),r("dd",null,c(e.locale),1),t[2]||(t[2]=r("dt",null,"Título",-1)),r("dd",null,c(e.title),1),t[3]||(t[3]=r("dt",null,"Detalhes",-1)),e.desc?(a(),l("dd",{key:0,innerHTML:`${e.formatTime} - ${w(b)(e.desc)}`},null,8,N)):y("",!0)]))),128))])]))),128))])):y("",!0)],64))])}}},V=S($,[["__scopeId","data-v-767f6366"]]);export{V as default};
