import{L as h}from"./D-Xdb1mN.js";import{_ as L,p as S,y as T,f as x,B as A,c as r,A as H,l as w,F as g,x as y,i as k,o as a,a as i,t as f,P as b}from"./DTQuZARa.js";const B={key:0,class:"print-page"},M={class:"day-header"},N={class:"event-list"},$=["innerHTML"],C={__name:"proximos",setup(E){const{lista:d}=S(),v=T({}),_=x(()=>{const c=new Date,n=new Date;n.setDate(c.getDate()+7);const u=e=>String(e).padStart(2,"0"),m=e=>{const s=new Date,t=new Date;s.setHours(0,0,0,0),t.setDate(s.getDate()+1),t.setHours(0,0,0,0);const o=new Date(e);return o.setHours(0,0,0,0),o.getTime()===s.getTime()?"Hoje":o.getTime()===t.getTime()?"Amanhã":`${u(e.getDate())}/${u(e.getMonth()+1)}`},l={};return d.events.filter(e=>{if(!(e!=null&&e.onDate))return!1;const s=new Date(e.onDate);return s>=c&&s<=n}).filter(e=>!["AVISOS À IRMANDADE"].includes(e.title)).forEach(e=>{const s=new Date(e.onDate),t=m(s);l[t]||(l[t]=[]),l[t].push(e)}),Object.entries(l).map(([e,s])=>({day:e,items:s.sort((t,o)=>{const p=new Date(t.onDate),D=new Date(o.onDate);return p-D||(t.event||"").localeCompare(o.event||"")||(t.title||"").localeCompare(o.title||"")})})).sort((e,s)=>{var p,D;const t=new Date((p=e.items[0])==null?void 0:p.onDate),o=new Date((D=s.items[0])==null?void 0:D.onDate);return t-o})});return A(()=>d.events,()=>{for(const c of d.events||[]){const n=c.title||"Sem título";n in v||(v[n]=!0)}},{immediate:!0}),(c,n)=>{const u=h;return a(),r("div",null,[w(d).loading?(a(),H(u,{key:0})):(a(),r(g,{key:1},[_.value.length?(a(),r("div",B,[(a(!0),r(g,null,k(_.value,({day:m,items:l})=>(a(),r("div",{key:m,class:"day-section"},[i("h2",M,f(m)+" "+f(l[0].formatWeek),1),i("dl",N,[(a(!0),r(g,null,k(l,e=>(a(),r("div",{key:e.id,class:"event-entry"},[n[0]||(n[0]=i("dt",null,"Título",-1)),i("dd",null,f(e.title),1),n[1]||(n[1]=i("dt",null,"Local",-1)),i("dd",null,f(e.locale),1),n[2]||(n[2]=i("dt",null,"Detalhes",-1)),e.desc?(a(),r("dd",{key:0,innerHTML:`${e.formatTime} - ${w(b)(e.desc)}`},null,8,$)):y("",!0)]))),128))])]))),128))])):y("",!0)],64))])}}},j=L(C,[["__scopeId","data-v-10d3eb01"]]);export{j as default};
